import { pipe } from "fp-ts/function";

import { Source } from "@cmd/domain-player";
import * as styles from "./SourceLink.css";

function YoutubeIcon() {
  return (
    <svg
      className={styles.youtube}
      xmlns="http://www.w3.org/2000/svg"
      xmlnsXlink="http://www.w3.org/1999/xlink"
      viewBox="0 0 492 110"
    >
      <path
        d="M154.3 17.5a19.6 19.6 0 0 0-13.8-13.8C128.4.4 79.7.4 79.7.4S31 .5 18.9 3.8A19.6 19.6 0 0 0 5.1 17.6C1.44 39.1.02 71.86 5.2 92.5A19.6 19.6 0 0 0 19 106.3c12.1 3.3 60.8 3.3 60.8 3.3s48.7 0 60.8-3.3a19.6 19.6 0 0 0 13.8-13.8c3.86-21.53 5.05-54.27-.1-75z"
        fill="red"
      />
      <path fill="#fff" d="M64.2 78.4 104.6 55 64.2 31.6z" />
      <g fill="#282828">
        <path d="M227.9 99.7c-3.1-2.1-5.3-5.3-6.6-9.7s-1.9-10.2-1.9-17.5v-9.9c0-7.3.7-13.3 2.2-17.7 1.5-4.5 3.8-7.7 7-9.7s7.3-3.1 12.4-3.1c5 0 9.1 1 12.1 3.1s5.3 5.3 6.7 9.7 2.1 10.3 2.1 17.6v9.9c0 7.3-.7 13.1-2.1 17.5s-3.6 7.6-6.7 9.7c-3.1 2-7.3 3.1-12.5 3.1-5.4.1-9.6-1-12.7-3zM245.2 89c.9-2.2 1.3-5.9 1.3-10.9V56.8c0-4.9-.4-8.5-1.3-10.7-.9-2.3-2.4-3.4-4.5-3.4s-3.5 1.1-4.4 3.4-1.3 5.8-1.3 10.7v21.3c0 5 .4 8.7 1.2 10.9s2.3 3.3 4.5 3.3c2.1 0 3.6-1.1 4.5-3.3zm219.2-16.3v3.5l.4 9.9c.3 2.2.8 3.8 1.6 4.8s2.1 1.5 3.8 1.5c2.3 0 3.9-.9 4.7-2.7.9-1.8 1.3-4.8 1.4-8.9l13.3.8c.1.6.1 1.4.1 2.4 0 6.3-1.7 11-5.2 14.1s-8.3 4.7-14.6 4.7c-7.6 0-12.9-2.4-15.9-7.1s-4.6-12.1-4.6-22V61.6c.34-17 3.33-29.45 20.9-29.5 5.3 0 9.3 1 12.1 2.9s4.8 4.9 6 9 1.7 9.7 1.7 16.9v11.7h-25.7zm2-28.8c-.8 1-1.3 2.5-1.6 4.7s-.4 10-.4 10v4.9h11.2v-4.9c0 4.9-.1-7.7-.4-10s-.8-3.9-1.6-4.8-2-1.4-3.6-1.4c-1.7.1-2.9.6-3.6 1.5zM190.5 71.4 173 8.2h15.3s7.15 31.7 9.6 46.6h.4c2.78-15.82 9.8-46.6 9.8-46.6h15.3l-17.7 63.1v30.3h-15.1V71.4z" />
        <path
          id="a"
          d="M311.5 33.4v68.3h-12l-1.3-8.4h-.3c-3.3 6.3-8.2 9.5-14.7 9.5-11.77-.03-13.08-10-13.2-18.4v-51h15.4v50.1c0 3 .3 5.2 1 6.5 1.42 2.78 5.1 2.07 7.1.7a8 8 0 0 0 2.7-3.1V33.4z"
          fill="#282828"
        />
        <path d="M353.3 20.6H338v81.1h-15V20.6h-15.3V8.2h45.5v12.4zm87.9 23.7c-.9-4.3-2.4-7.4-4.5-9.4-2.1-1.9-4.9-2.9-8.6-2.9a14.1 14.1 0 0 0-7.9 2.4c-2.5 1.6-4.3 3.7-5.7 6.3h-.1v-36h-14.8v96.9h12.7l1.6-6.5h.3a14 14 0 0 0 5.3 5.5c2.4 1.3 5 2 7.9 2 5.2 0 9-2.4 11.5-7.2 2.4-4.8 3.7-12.3 3.7-22.4V62.2c0-7.6-.5-13.6-1.4-17.9zm-14.1 27.9c0 5-.2 8.9-.6 11.7s-1.1 4.8-2.1 6-2.3 1.8-3.9 1.8c-3.1-.1-4.86-1.5-6.1-3.6V49.3c.5-1.9 1.4-3.4 2.7-4.6 2.2-2.47 5.96-2.5 7.7 0 .9 1.2 1.4 3.3 1.8 6.2.3 2.9.5 7 .5 12.4z" />
      </g>
      <use xlinkHref="#a" x={78.9} />
    </svg>
  );
}

function Youtube({ href }: { href: string }) {
  return (
    <a href={href} target="_blank" rel="noreferrer">
      <YoutubeIcon />
    </a>
  );
}

function BandcampIcon() {
  return (
    <svg
      className={styles.bandcamp}
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1974.48 310.147"
      xmlSpace="preserve"
    >
      <path
        style={{
          fill: "#201d1c",
          fillOpacity: 1,
          fillRule: "nonzero",
          stroke: "none",
        }}
        d="M3748.32 1624.45c-238.45 0-360.28-187.68-360.28-470.41 0-267.259 131.74-467.841 360.28-467.841 258.45 0 355.34 236.512 355.34 467.841-.18 241.57-121.95 470.41-355.42 470.41m-633.5 701.66h283.24v-678.52h5.01c77.02 128.48 238.52 208.19 382.64 208.19 404.94 0 601.3-318.83 601.3-706.97 0-357.169-173.9-693.892-554.12-693.892-173.94 0-360.29 43.602-444.79 218.434h-4.92V490.781h-268.38V2326.07l.02.04M5368.94 938.059c0-185.039-193.83-251.938-318.05-251.938-99.43 0-260.98 38.688-260.98 169.699 0 154.27 109.38 200.57 231.18 221.15 124.18 23.11 260.86 20.47 347.85 79.59zm1212.13 917.721c-168.96 0-315.58-89.95-400.08-236.55l-4.95 5.22v195.3h-268.35V687.98c-161.55-1.832-176.6-1.832-188.92-1.832-52.16 0-67.11 28.282-67.11 100.262v683.8c0 280.09-263.35 385.57-514.39 385.57-283.26 0-563.98-100.21-583.79-442.17h283.19c12.47 143.96 124.21 210.84 283.25 210.84 114.28 0 265.87-28.36 265.87-179.98 0-172.21-181.39-149.05-385.14-187.68-238.53-28.18-494.43-82.31-494.43-413.731 0-259.7 208.68-388.141 439.73-388.141 151.6 0 332.95 48.844 444.83 161.742 22.27-120.719 104.36-161.742 218.63-161.742 47.2 0 136.63 17.934 579.75 33.352v2.621h1.76v783.859c0 195.42 121.78 349.66 310.58 349.66 166.47 0 246.05-90.01 250.96-298.17V490.852h283.37v912.458c.55 298.13-175.95 452.43-454.3 452.43M7860.88 686.148c253.41 0 360.31 239.09 360.31 470.482 0 292.91-136.64 467.82-355.35 467.82-265.88 0-360.32-244.22-360.32-483.22 0-228.789 109.29-455.031 355.41-455.031m633.54-195.347h-268.39V670.77h-4.91c-74.52-151.661-236.13-215.852-397.6-215.852-404.94 0-601.29 311.043-601.29 709.382 0 480.66 275.84 691.44 556.65 691.44 161.43 0 340.29-61.73 427.28-208.15h5.05v678.46h283.22V490.809l-.01.043M9620.12 1375.04c-22.39 161.94-136.66 249.39-293.18 249.39-146.68 0-352.86-79.73-352.86-483.29 0-221.081 94.38-455.019 340.42-455.019 163.96 0 278.22 113.231 305.62 303.457h283.23c-52.19-344.437-258.37-534.66-588.85-534.66-402.55 0-623.67 295.523-623.67 686.222 0 400.96 211.2 714.56 633.6 714.56 298.15 0 551.67-154.21 578.92-480.67h-282.77l-.46.01M10877.6 938.059c0-185.039-193.8-251.938-318.1-251.938-99.3 0-260.8 38.688-260.8 169.699 0 154.27 109.4 200.57 231 221.15 124.3 23.11 261 20.47 347.9 79.59zm1973 917.721c-186.4 0-308.1-84.87-402.5-221.07-57.2 151.58-203.8 221.07-360.4 221.07-203.7 0-310.6-89.95-395-221.07h-7.5v185.04h-268.5V687.98c-161.5-1.832-176.5-1.832-189-1.832-52.1 0-67 28.282-67 100.262v683.8c0 280.09-263.3 385.57-514.4 385.57-283.2 0-564-100.21-583.9-442.17h283.3c12.4 143.96 124.3 210.84 283.3 210.84 114.3 0 265.8-28.36 265.8-179.98 0-172.21-181.4-149.05-385.1-187.68-238.6-28.18-494.5-82.31-494.5-413.731 0-259.7 208.7-388.141 439.8-388.141 151.6 0 332.9 48.844 444.8 161.742 22.3-120.719 104.3-161.742 218.7-161.742 47.1 0 136.6 17.934 575.7 33.352v2.621h5.8v789.039c0 221.04 134.2 344.48 280.8 344.48 171.4 0 226.1-97.62 226.1-280.26V490.852h283.2v778.798c0 223.67 82 354.74 273.4 354.74 221.1 0 233.5-146.5 233.5-357.36V490.859h283.3v917.571c.1 323.94-158.8 447.31-429.5 447.31M14170 1624.45c-238.5 0-360.3-187.68-360.3-470.41 0-267.259 131.7-467.841 360.3-467.841 258.4 0 355.4 236.512 355.4 467.841 0 241.57-122 470.41-355.4 470.41m-633.6 195.3h268.4v-179.92h5c79.5 151.6 233.5 215.95 397.5 215.95 405 0 601.3-318.83 601.3-706.97 0-357.169-173.9-693.892-554-693.892-164 0-340.5 61.66-429.9 208.07h-5V0h-283.3v1819.75"
        transform="matrix(.13333 0 0 -.13333 0 310.147)"
      />
      <path
        style={{
          fill: "#6399a8",
          fillOpacity: 1,
          fillRule: "nonzero",
          stroke: "none",
        }}
        d="M2124.47 494.77H0l992.094 1831.34H3116.58L2124.47 494.77"
        transform="matrix(.13333 0 0 -.13333 0 310.147)"
      />
    </svg>
  );
}

function Bandcamp({ href }: { href: string }) {
  return (
    <a href={href} target="_blank" rel="noreferrer">
      <BandcampIcon />
    </a>
  );
}

function SoundcloudIcon() {
  return (
    <svg
      className={styles.soundcloud}
      viewBox="0 0 418 50"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M143.485 39.854a12.497 12.497 0 0 1-10.742-5.263l3.963-3.724a8.701 8.701 0 0 0 7.03 3.306c3.259 0 4.774-.943 4.774-3.14 0-1.861-.943-2.697-6.123-3.938-5.18-1.241-8.594-2.936-8.594-8.642 0-5.263 4.393-8.486 9.812-8.486a12.831 12.831 0 0 1 10.014 4.547l-3.963 4.059a8.2 8.2 0 0 0-6.242-2.984c-2.948 0-3.927 1.325-3.927 2.614 0 1.814 1.193 2.387 5.538 3.473 4.345 1.086 9.179 2.65 9.179 8.94.071 5.514-3.223 9.238-10.719 9.238Zm27.93 0c-7.161 0-12.09-5.55-12.09-14.908 0-9.357 4.989-14.98 12.174-14.98s12.055 5.54 12.055 14.897c0 9.358-4.989 14.991-12.139 14.991Zm0-24.134c-3.843 0-6.397 3.27-6.397 9.143 0 5.872 2.673 9.238 6.517 9.238 3.843 0 6.398-3.27 6.398-9.155 0-5.884-2.698-9.226-6.553-9.226h.035Zm30.08 24.134c-6.637 0-11.113-4.774-11.113-13.13V10.42h5.502v16.186c0 4.63 2.113 7.567 5.61 7.567 3.497 0 5.658-2.853 5.658-7.484V10.42h5.502v16.186c0 8.402-4.165 13.248-11.16 13.248Zm37.012-.465L228.41 23.574c-.669-1.074-1.576-2.53-1.922-3.27 0 1.074.072 4.714.072 6.325v12.76h-5.42V10.42h5.264l9.74 15.314c.669 1.074 1.576 2.519 1.922 3.27 0-1.074-.072-4.714-.072-6.337V10.42h5.42V39.39h-4.907Zm21.784 0h-8.2V10.42h8.593c7.854 0 13.667 3.892 13.667 14.49 0 10.182-6.994 14.479-14.06 14.479Zm.202-23.359h-2.912v17.737h2.71c5.777 0 8.355-3.58 8.355-8.856.047-5.92-2.34-8.869-8.153-8.869v-.012Zm37.718 2.83a5.192 5.192 0 0 0-5.025-3.14c-4.13 0-6.481 3.808-6.481 9.19 0 5.384 2.387 9.191 6.517 9.191 2.483 0 3.927-1.122 5.383-3.688l4.631 2.9a10.468 10.468 0 0 1-10.17 6.541c-7.16 0-12.019-5.8-12.019-14.943 0-8.821 5.025-14.944 12.223-14.944a10.348 10.348 0 0 1 10.05 6.41l-5.109 2.482Zm12.998 20.529V10.42h5.49v23.264h13.787v5.705h-19.277Zm34.233.465c-7.162 0-12.092-5.55-12.092-14.908 0-9.357 4.99-14.98 12.175-14.98 7.186 0 12.055 5.54 12.055 14.897 0 9.358-4.989 14.991-12.138 14.991Zm0-24.134c-3.844 0-6.398 3.27-6.398 9.143 0 5.872 2.662 9.238 6.517 9.238 3.855 0 6.398-3.27 6.398-9.155 0-5.884-2.71-9.226-6.553-9.226h.036Zm30.078 24.134c-6.636 0-11.112-4.774-11.112-13.13V10.42h5.502v16.186c0 4.63 2.113 7.567 5.61 7.567 3.497 0 5.658-2.853 5.658-7.484V10.42h5.538v16.186c0 8.402-4.201 13.248-11.196 13.248Zm28.169-.286h-8.2V10.576h8.594c7.854 0 13.667 3.903 13.667 14.49 0 10.193-6.995 14.502-14.061 14.502Zm.203-23.359h-2.853v17.725h2.71c5.777 0 8.355-3.58 8.355-8.856-.012-5.98-2.4-8.869-8.212-8.869ZM111.473 35.07c-.239 8.354-7.484 14.74-15.791 14.74H57.69a3.163 3.163 0 0 1-3.14-3.175V5.754a3.473 3.473 0 0 1 2.101-3.366S60.137 0 67.49 0A24.89 24.89 0 0 1 80.32 3.51 25.268 25.268 0 0 1 92.256 19.98c1.311-.38 2.67-.569 4.035-.56a15.194 15.194 0 0 1 15.182 15.647ZM49.8 8.354c1.146 13.858 1.981 26.498 0 40.332a1.23 1.23 0 0 1-2.459 0c-1.838-13.702-1.026-26.593 0-40.332a1.23 1.23 0 1 1 2.46 0Zm-7.663 4.775c1.325 12.366 1.719 23.191-.024 35.605a1.29 1.29 0 0 1-2.554 0c-1.54-12.235-1.194-23.347 0-35.605a1.29 1.29 0 0 1 2.578 0Zm-7.722-1.194c1.253 12.676 1.814 24.051 0 36.763a1.235 1.235 0 0 1-2.471 0c-1.767-12.509-1.194-24.23 0-36.763a1.235 1.235 0 1 1 2.47 0Zm-7.651 3.581a121.591 121.591 0 0 1-.036 33.242 1.265 1.265 0 0 1-2.519 0 130.197 130.197 0 0 1 0-33.242 1.277 1.277 0 1 1 2.555 0Zm-7.759 8.224c1.958 8.677 1.063 16.28-.13 25.065a1.194 1.194 0 0 1-2.388 0c-.979-8.641-1.85-16.507 0-25.065a1.265 1.265 0 0 1 2.518 0Zm-7.686-1.265c1.802 8.82 1.205 16.316-.048 25.173-.12 1.3-2.387 1.313-2.507 0-1.134-8.737-1.611-16.472-.047-25.173a1.313 1.313 0 0 1 2.602 0Zm-7.747 4.237c1.862 5.896 1.194 10.659-.12 16.615a1.194 1.194 0 1 1-2.386 0C-.056 37.455-.582 32.574.958 26.713a1.313 1.313 0 0 1 2.614 0Z"
        fill="#F50"
        fillRule="nonzero"
      />
    </svg>
  );
}

function Soundcloud({ href }: { href: string }) {
  return (
    <a href={href} target="_blank" rel="noreferrer">
      <SoundcloudIcon />
    </a>
  );
}

export default function SourceLink({
  href,
  source,
}: {
  href: string;
  source: Source.Source;
}) {
  return pipe(
    source,
    Source.fold({
      Soundcloud: () => <Soundcloud href={href} />,
      Youtube: () => <Youtube href={href} />,
      Bandcamp: () => <Bandcamp href={href} />,
    })
  );
}
